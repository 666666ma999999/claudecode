---
name: cms-naming-convention
description: 複数CMS管理時の命名規約。CMS識別子の導出方法、コード/ログ/ドキュメント/会話での使い分けを定義。
triggers:
  - CMS
  - CMS設定
  - CMS追加
  - 複数CMS
  - CMS識別
  - hayatomo
  - izumo
---

# CMS命名規約（ドメイン略称方式）

## 原則

各CMSはドメインのサブドメイン部分から一意な識別子を導出する。

## CMS一覧

| 識別子 | 正式名 | ドメイン | 用途 | プロジェクト |
|--------|--------|---------|------|-------------|
| hayatomo | 原稿管理CMS | hayatomo2-dev.ura9.com/manuscript/ | 原稿登録・PPV管理 | chk, rohan |
| izumo-dev | izumo開発CMS | izumo-dev.uranai-gogo.com/admin/ | 小見出し・従量更新 | rohan |
| izumo-chk | izumo検証CMS | izumo-chk.uranai-gogo.com/admin/ | 本番同期確認 | rohan |

## 命名パターン

### config.py（定数）
```
{CMS_ID(大文字)}_CMS_{用途}
例: HAYATOMO_CMS_BASE_URL, IZUMO_DEV_CMS_USER
```

### env var
```
{CMS_ID(大文字)}_CMS_{用途}
例: HAYATOMO_CMS_BASE_URL, HAYATOMO_CMS_USER, HAYATOMO_CMS_PASSWORD
```

### ログタグ
```
[CMS:{cms_id}] メッセージ
例: [CMS:hayatomo] キャッシュヒット: 48200134
    [CMS:izumo-dev] 小見出し登録完了
```

### CLAUDE.md / MEMORY.md
```
「{cms_id} CMS」形式で記述
例: hayatomo CMSのスクレイピング, izumo-dev CMSのSTEP 7
```

### 会話
- 文脈が明確な場合は「CMS」のみでも可
- 複数CMS文脈では必ず識別子付き: 「hayatomo CMSの...」

## 新CMS追加手順

1. ドメインのサブドメイン部分を識別子とする
2. 上記CMS一覧テーブルに追加
3. config.pyに `{ID}_CMS_*` 定数追加
4. 関連MEMORY.mdに記載

## 禁止

- 汎用名 `CMS_*` の使用（識別子プレフィックス必須）
- 識別子なしの `[CMS]` ログタグ（`[CMS:{id}]` を使う）
