# メモリシステム棲み分けルール

## 2つのメモリシステム

| システム | 目的 | 記録対象 |
|---|---|---|
| **Claude-Mem**（プラグイン） | 「何をしたか」の活動記録 | ツール使用・セッション活動を自動観測 |
| **Memory MCP** | 「何を知っているか」の知識蓄積 | エンティティ・リレーション・決定事項 |

## 使い分け基準

### Claude-Mem に任せるもの（自動記録）
- セッション中のツール使用履歴
- ファイル変更の時系列記録
- 作業の進捗状況

### Memory MCP に記録するもの（意図的に保存）
- プロジェクト間で共通の設計判断・方針決定
- ユーザーの好み・ワークスタイル
- 繰り返し参照する技術的知見
- エンティティ間の関係（「プロジェクトAはライブラリBに依存」等）

## 記録タイミング

### Memory MCP への保存トリガー
- ユーザーが「覚えておいて」「記録して」と明示した場合
- 新しいプロジェクト固有の方針が決まった場合
- トラブルシューティングで再利用可能な知見を得た場合

### 記録しないもの
- 一時的な作業状態（Claude-Memが自動記録）
- SKILL.mdやルールファイルに既に記載されている情報（重複禁止）
- 機密情報（APIキー、パスワード等）

## 既存システムとの関係

| 既存システム | 役割 | Memory MCPとの関係 |
|---|---|---|
| SKILL.md | 再利用可能な手順・パターン | スキルに書けないメタ知識をMemoryに保存 |
| rules/*.md | 行動ルール・制約 | ルールに書けない暗黙知をMemoryに保存 |
| task.md | 現在のタスク状態 | タスク完了時の学びをMemoryに保存 |
| Claude-Mem | 活動履歴 | 活動の「意味」をMemoryに保存 |
