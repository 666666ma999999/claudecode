# /launch-task - タスク開始コマンド

新規タスクを開始し、task.mdを生成する。

## 引数

```
/launch-task [Issue URL or タスク説明]
```

## 実行手順

### 1. 入力の解析

**Issue URLが指定された場合:**
- `gh issue view` でIssue内容を取得
- タイトル、本文、ラベルを抽出

**タスク説明が指定された場合:**
- ユーザーの説明をそのまま使用

**引数なしの場合:**
- AskUserQuestionToolでタスク内容をヒアリング

### 2. ワークスペース準備

```bash
mkdir -p .claude/workspace
```

### 3. task.md生成

テンプレート（`~/.claude/templates/task.md`）を基に生成:

1. **タスク名**: Issueタイトル or ユーザー入力
2. **目的・背景**: Issue本文 or ユーザー入力
3. **成功基準**: Issue本文から抽出 or ユーザーに確認
4. **実装計画**: Planモードで設計（Phase分割）
5. **開始日時**: 現在時刻
6. **ステータス**: `planning`

### 4. 関連ファイルの調査

Explore SubAgentを使用して:
- 関連しそうなファイルを特定
- task.mdの「関連ファイル」セクションに記載

### 5. ユーザー確認

生成したtask.mdの内容を表示し、確認を求める:
- 修正が必要か？
- このまま進めてよいか？

### 6. task.md保存

```
.claude/workspace/task.md
```

## 出力フォーマット

```
## タスク開始準備完了

**タスク**: [タスク名]
**Issue**: [リンク]

### 成功基準
- [ ] 基準1
- [ ] 基準2

### 実装計画
1. Phase 1: [内容]
2. Phase 2: [内容]
3. Phase 3: [内容]

### 関連ファイル
- `file1` - 説明
- `file2` - 説明

---
task.mdを保存して作業を開始しますか？
```

## 注意事項

- 既存のtask.mdがある場合は上書き確認
- Issueから取得できない情報はユーザーに確認
- 実装計画は大まかでOK（詳細はPlanモードで）
