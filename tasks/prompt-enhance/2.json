{
  "id": "2",
  "subject": "Create test_prompt_enhancer.py",
  "description": "Create `/Users/masaaki_nagasawa/Desktop/prm/aiimg/tests/test_prompt_enhancer.py` with unit tests:\n\n## Test Cases\n\n### test_detect_language\n- English text → \"en\"\n- Japanese text → \"ja\"\n- Mixed text with Japanese → \"ja\"\n\n### test_detect_subject\n- \"portrait of a woman\" → \"person\"\n- \"beautiful mountain landscape\" → \"landscape\"\n- \"product shot of a shoe\" → \"product\"\n- \"delicious pasta on plate\" → \"food\"\n- \"modern building facade\" → \"architecture\"\n- \"anime illustration\" → \"illustration\"\n- \"abstract concept\" → \"general\"\n- Japanese: \"女性のポートレート\" → \"person\"\n- Japanese: \"美しい風景\" → \"landscape\"\n\n### test_has_quality_signals\n- \"high-quality photo\" → True\n- \"a cat sitting\" → False\n- \"masterpiece artwork\" → True\n\n### test_enhance_prompt\n- Basic prompt gets quality modifiers added\n- Prompt with existing quality signals → no duplicate quality words\n- Japanese prompt → Japanese enhancements\n- Person subject → portrait terms added\n- Landscape subject → landscape terms added\n- Returns correct dict structure (original, enhanced, language, subject, enhancements)\n\nImport from: `from backend.services.prompt_enhancer import enhance_prompt, detect_language, detect_subject`",
  "activeForm": "Creating prompt enhancer tests",
  "owner": "backend-dev",
  "status": "completed",
  "blocks": [
    "6"
  ],
  "blockedBy": []
}