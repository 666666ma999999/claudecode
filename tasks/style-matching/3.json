{
  "id": "3",
  "subject": "Phase 4: フロントエンドUI",
  "description": "## Goal\nスタイル選択・評価レポートUIを構築する。\n\n## frontend/config.js 修正\nエンドポイント追加:\n```javascript\n// スタイル\nSTYLES: '/api/styles',\nSTYLE_DETAIL: (key) => `/api/styles/${key}`,\nSTYLE_ANALYZE: (key) => `/api/styles/${key}/analyze-references`,\n// スタイル評価\nSTYLE_EVALUATE: '/api/style-evaluation/evaluate',\nSTYLE_EVALUATE_BATCH: '/api/style-evaluation/batch',\nSTYLE_REPORT: (key) => `/api/style-evaluation/report/${key}`,\nSTYLE_PATTERNS: (key) => `/api/style-evaluation/patterns/${key}`,\n```\n\n## frontend/components/style-selector.js (新規)\n- `renderStyleSelector(containerId)`: 3サイトのスタイルカード表示\n  - カード内容: サイト名、色パレット（CSSグラデーション）、ムードキーワード、サンプル参考画像\n  - 選択状態管理: `selectedStyleKey` グローバル変数\n  - カードクリックでトグル選択（1つだけ選択可能）\n\n## frontend/components/prompt-manager.js 修正\n- renderGenerate関数内に「スタイル選択セクション」追加\n  - `<div class=\"section-subtitle\">サイトスタイル（任意）</div>` + `<div id=\"style-selector-area\"></div>`\n  - renderGenerate完了後に `renderStyleSelector('style-selector-area')` 呼び出し\n- generateImages関数: `site_style_key: selectedStyleKey || null` をリクエストボディに追加\n- 生成結果表示にスタイルスコア表示エリア追加\n\n## frontend/components/style-report.js (新規)\n- `renderStyleReport(container)`: スタイル別評価レポートページ\n  - スタイル選択タブ → 選択スタイルのスコア推移チャート（Chart.js）\n  - 成功パターンリスト\n  - 改善提案表示\n- Analyticsページ内にタブとして統合、またはナビに「Styles」追加\n\n## frontend/index.html 修正\n- 新規JSファイルの読み込み追加:\n  - `<script src=\"/static/components/style-selector.js?v=20260218\"></script>`\n  - `<script src=\"/static/components/style-report.js?v=20260218\"></script>`\n- ナビに「Styles」リンク追加: `<a href=\"#styles\" class=\"nav-link\">Styles</a>`\n\n## frontend/app.js 修正\n- handleRoute内にstylesケース追加: `case 'styles': await renderStyleReport(content); break;`\n\n## Constraints\n- Vanilla JS（フレームワーク不使用）\n- Chart.jsはCDN経由で既に読み込み済み\n- `apiRequest()` ヘルパー関数を使用\n- `escapeHtml()`, `showMessage()`, `navigate()` 等の既存ユーティリティ使用\n- CSSはfrontend/styles.cssに追加（既存スタイルに合わせる）\n\n## Verification\n- ブラウザでGenerate画面にスタイルカードが表示されること\n- Stylesページでレポートが表示されること",
  "activeForm": "Building frontend style UI",
  "status": "pending",
  "blocks": [],
  "blockedBy": [
    "1"
  ]
}